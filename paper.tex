% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames,x11names}{xcolor}
%
\documentclass[
  12pt,
]{article}
\usepackage{amsmath,amssymb}
\usepackage{setspace}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math} % this also loads fontspec
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else
  % xetex/luatex font selection
  \setmainfont[]{Times New Roman}
  \setsansfont[]{Times New Roman}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
\newlength{\cslhangindent}
\setlength{\cslhangindent}{1.5em}
\newlength{\csllabelwidth}
\setlength{\csllabelwidth}{3em}
\newlength{\cslentryspacingunit} % times entry-spacing
\setlength{\cslentryspacingunit}{\parskip}
\newenvironment{CSLReferences}[2] % #1 hanging-ident, #2 entry spacing
 {% don't indent paragraphs
  \setlength{\parindent}{0pt}
  % turn on hanging indent if param 1 is 1
  \ifodd #1
  \let\oldpar\par
  \def\par{\hangindent=\cslhangindent\oldpar}
  \fi
  % set entry spacing
  \setlength{\parskip}{#2\cslentryspacingunit}
 }%
 {}
\usepackage{calc}
\newcommand{\CSLBlock}[1]{#1\hfill\break}
\newcommand{\CSLLeftMargin}[1]{\parbox[t]{\csllabelwidth}{#1}}
\newcommand{\CSLRightInline}[1]{\parbox[t]{\linewidth - \csllabelwidth}{#1}\break}
\newcommand{\CSLIndent}[1]{\hspace{\cslhangindent}#1}
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{array}
\usepackage{multirow}
\usepackage{wrapfig}
\usepackage{float}
\usepackage{colortbl}
\usepackage{pdflscape}
\usepackage{tabu}
\usepackage{threeparttable}
\usepackage{threeparttablex}
\usepackage[normalem]{ulem}
\usepackage{makecell}
\usepackage{xcolor}
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same}
\hypersetup{
  pdfauthor={Paul Bauer, Mannheim Centre for European Social Research; Camille Landesvatter, Mannheim Centre for European Social Research},
  colorlinks=true,
  linkcolor={Maroon},
  filecolor={Maroon},
  citecolor={Blue},
  urlcolor={Blue},
  pdfcreator={LaTeX via pandoc}}

\title{\hfill\break
\vspace{0.7cm}Writing a reproducible paper\\
in R Markdown\footnote{Corresponding address: \href{mailto:mail@paulcbauer.de}{\nolinkurl{mail@paulcbauer.de}}. Acknowledgments: We are grateful to all those generous people that invest their time into open-source software.}\vspace{0.5cm}\\}
\author{Paul Bauer, Mannheim Centre for European Social Research \and Camille Landesvatter, Mannheim Centre for European Social Research}
\date{\hfill\break
First version: December 14, 2018\\
This version: June 19, 2023\\
Download this Paper on OSF: \url{https://osf.io/q395s}\\
\strut \\
Feedback? Errors? \href{mailto:mail@paulcbauer.de}{\nolinkurl{mail@paulcbauer.de}}\\
\href{https://github.com/paulcbauer/Writing_a_reproducable_paper_in_rmarkdown/}{Github repository}\\
\strut \\
Tired of Latex?\\
Try \href{https://github.com/rstudio/pagedown}{Pagedown} with our \href{https://osf.io/k8jhx/}{new template}! :-)}

\begin{document}
\maketitle
\begin{abstract}
\noindent\setstretch{1}The present paper provides a template for a reproducible scientific paper written in R Markdown. Below, we outline some of the ``tricks''/code (e.g., referencing tables, sections, etc.) we had to figure out to produce this document. The underlying files which produce this document can be downloaded \href{https://github.com/paulcbauer/Writing_a_reproducable_paper_in_rmarkdown}{here} (click on Code -\textgreater{} Download ZIP). We think we got pretty far, but there is always room for improvement and more automatization, in parallel to the incredible developments in R and Rstudio (e.g., bookdown). We intend to update this file when we discover more convenient code and you can follow any updates through the corresponding \href{https://github.com/paulcbauer/Writing_a_reproducable_paper_in_rmarkdown/}{Github repo}.\vspace{.8cm}
\end{abstract}

\setstretch{1.2}
\clearpage

\renewcommand{\baselinestretch}{0.5}\normalsize
\tableofcontents
\renewcommand{\baselinestretch}{1.1}\normalsize

\clearpage

\hypertarget{why-reproducible-research-in-r}{%
\section{Why reproducible research (in R)?}\label{why-reproducible-research-in-r}}

Some arguments\ldots{}

\begin{itemize}
\tightlist
\item
  \textbf{Access}: Research is typically funded by taxpayers (and researchers are also taxpayers). Hence, it should be freely accessible to everyone without any barriers, such as the requirement of commercial software. Importantly, researchers from developing countries are particularly dependent on free access to knowledge (\protect\hyperlink{ref-Kirsop2005-ro}{Kirsop and Chan 2005}).
\item
  \textbf{Reproducibility}: Even if you have conducted a study and analyzed the data yourself, you may forget the steps taken after a few months. A fully reproducible setup will help you retrace your own steps. Additionally, other researchers who wish to understand and build upon your work will benefit from reproducibility. It may sound like a joke, but why not aim for a document that can be used to reproduce your findings even after 500 years?
\item
  \textbf{Errors}: Manual steps in data analysis, such as manually copying/pasting values into a table, can introduce errors. R Markdown allows you to automate such steps and/or avoid them.
\item
  \textbf{Revisions}: Revising a paper takes much less time if you have all the code you need in one place, i.e., one .rmd file. For instance, if you decide to exclude a subset of your data, you simply need to insert one line of code at the beginning, and everything is automatically rebuilt/re-estimated.
\end{itemize}

\hypertarget{prerequisites}{%
\section{Prerequisites}\label{prerequisites}}

We assume that you are using R on a day-to-day basis. You may have even started to work a little in R Markdown, but you don't write your complete paper in R Markdown. If you don't know what R Markdown is, watch \href{https://vimeo.com/178485416}{this short video}. Then\ldots{}

\begin{itemize}
\tightlist
\item
  \ldots install \href{https://www.r-project.org/}{R} and \href{https://www.rstudio.com/}{Rstudio} (most recent versions) (\protect\hyperlink{ref-R2017}{R Core Team 2017}; \protect\hyperlink{ref-Rstudio2015}{RStudio Team 2015}).
\item
  \ldots install \href{https://yihui.name/tinytex/}{tinytex}, a lightweight version of Tex Live (\protect\hyperlink{ref-markdown2017}{Allaire et al. 2017}; \protect\hyperlink{ref-tinytex}{Xie 2018b}).
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{install.packages}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\StringTok{\textquotesingle{}tinytex\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rmarkdown\textquotesingle{}}\NormalTok{))}
\NormalTok{tinytex}\SpecialCharTok{::}\FunctionTok{install\_tinytex}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{itemize}
\tightlist
\item
  \ldots install the packages below using the code below (\protect\hyperlink{ref-knitr3}{Xie 2014}, \protect\hyperlink{ref-knitr2}{2015}, \protect\hyperlink{ref-bookdown2}{2016}, \protect\hyperlink{ref-bookdown1}{2017}, \protect\hyperlink{ref-knitr1}{2018a}; \protect\hyperlink{ref-kableextra}{Zhu 2017}).
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{install.packages}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\StringTok{"rmarkdown"}\NormalTok{, }\StringTok{"knitr"}\NormalTok{, }\StringTok{"kableExtra"}\NormalTok{,}
                   \StringTok{"stargazer"}\NormalTok{, }\StringTok{"knitr"}\NormalTok{,}
                   \StringTok{"bookdown"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{itemize}
\item
  \ldots download the 5 input files we created --- \texttt{paper.rmd}, \texttt{references.bib}, \texttt{data.csv} and \texttt{american-sociological-association.csl} --- from \href{https://github.com/paulcbauer/Writing_a_reproducable_paper_in_rmarkdown}{Github} (click on Code -\textgreater{} Download ZIP). Ignore the other files.
\item
  \ldots learn R and read about the other underlying components namely \href{https://en.wikipedia.org/wiki/Markdown}{Markdown}, \href{https://rmarkdown.rstudio.com/lesson-1.html}{R Markdown} and \href{https://en.wikipedia.org/wiki/LaTeX}{Latex}.
\end{itemize}

\hypertarget{basics-input-and-output-files}{%
\section{Basics: Input and output files}\label{basics-input-and-output-files}}

All the files you need to produce the present PDF file are the input files\ldots{}

\begin{itemize}
\tightlist
\item
  \ldots a \texttt{paper.rmd} file (the underlying R Markdown file).
\item
  \ldots a \texttt{references.bib} file (the bibliography).

  \begin{itemize}
  \tightlist
  \item
    We use paperpile to manage my references and export the \texttt{.bib} file into the folder that contains my \texttt{.rmd} file.
  \end{itemize}
\item
  \ldots a \texttt{data.csv} file (some raw data).
\item
  \ldots{} a \texttt{american-sociological-association.csl} file that defines the style of your bibliography.\footnote{You can download various citation style files from this webpage: \url{https://github.com/citation-style-language/styles}.}
\end{itemize}

\href{https://github.com/paulcbauer/Writing_a_reproducable_paper_in_rmarkdown}{Download these files from Github} (click on Code -\textgreater{} Download ZIP) and save them into a folder. Close R/Rstudio and directly open \texttt{paper.rmd} with RStudio. Doing so assures that the working directory is set to the folder that contains \texttt{paper.rmd} and the other files.\footnote{You can always check your working directory in R with \texttt{getwd()}.}

Once you run/compile the \texttt{paper.rmd} file in Rstudio it creates mainly two output files:

\begin{itemize}
\tightlist
\item
  \texttt{paper.tex}
\item
  \texttt{paper.pdf} (the one you are reading right now)
\end{itemize}

In addition, there may be files that you generate and store locally in the folder during the compilation process (e.g., plotly graphs).

Ideally, we can share a \texttt{zip} folder that includes both our input and output files, allowing others to replicate the entire process from managing and analyzing raw data to producing the final scientific article.

\hypertarget{code-chunk-options}{%
\section{Code Chunk Options}\label{code-chunk-options}}

In the examples provided below, we always display the R code within the chunks that produce the respective output. In your own paper, you would typically present only the outputs such as tables and figures. To achieve this, you can choose the ``Show output only'' option for code chunks in R Studio. To configure the display options, locate the specific code chunk and click the gear icon in the top-right corner to open the chunk options menu.

Alternatively, you can manually edit the code chunk options, which is a quicker approach. For example, to hide the underlying code and display only the output, you can use the option ``echo=False'' within the chunk options.

The chunk options themselves are not displayed in the manuscript, but they matter for referencing etc. For more guidance, please refer to the underlying \texttt{paper.rmd} file.

\hypertarget{referencing-within-your-document}{%
\section{Referencing within your document}\label{referencing-within-your-document}}

To see how referencing works simply see the different examples for figures, tables and sections below. For instance in Section \ref{sec:tables} you can find different ways of referencing tables. The code of the underlying \texttt{paper.rmd} will show you how we referenced Section \ref{sec:tables} right here namely with `\texttt{Section\ \textbackslash{}@ref(sec:tables)}'.

\hypertarget{software-versioning}{%
\section{Software versioning}\label{software-versioning}}

Software changes and gets updated, especially with an active developer community like that of R. Luckily you can always access \href{https://cran.r-project.org/bin/windows/base/old/}{old versions of R} and old version of R packages in \href{https://cran.r-project.org/src/contrib/Archive/}{the archive}. In the archive you need to choose a particular package, e.g dplyr and search for the right version, e.g., \texttt{dplyr\_0.2.tar.gz}. Then insert the path in the following function: \texttt{install.packages("https://....../dplyr\_0.2.tar.gz",\ repos=NULL,\ type="source")}. Ideally, however, results will be simply reproducible in the most current R and package versions.

We would recommend to use the command below and simply add it to the appendix as we did here in Appendix \ref{sec:rsessioninfo}. This will make sure you always provide the package versions that you used in the last compilation of your paper. For more advanced tools see \href{https://rstudio.github.io/packrat/}{packrat}.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{cat}\NormalTok{(}\FunctionTok{paste}\NormalTok{(}\StringTok{"\#"}\NormalTok{, }\FunctionTok{capture.output}\NormalTok{(}\FunctionTok{sessionInfo}\NormalTok{()), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{, }\AttributeTok{collapse =}\StringTok{""}\NormalTok{)) }
  \CommentTok{\# or use message() instead of cat()}
\end{Highlighting}
\end{Shaded}

\hypertarget{data}{%
\section{Data}\label{data}}

\hypertarget{import}{%
\subsection{Import}\label{import}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"data.csv"}\NormalTok{)}
\FunctionTok{head}\NormalTok{(data)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   X speed dist
## 1 1     4    2
## 2 2     4   10
## 3 3     7    4
## 4 4     7   22
## 5 5     8   16
## 6 6     9   10
\end{verbatim}

\hypertarget{putting-your-entire-data-into-the-.rmd-file}{%
\subsection{Putting your entire data into the .rmd file}\label{putting-your-entire-data-into-the-.rmd-file}}

By applying the function \texttt{dput()} to an object, you can obtain the code needed to reproduce that object.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{dput}\NormalTok{(data)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## structure(list(X = 1:50, speed = c(4L, 4L, 7L, 7L, 8L, 9L, 10L, 
## 10L, 10L, 11L, 11L, 12L, 12L, 12L, 12L, 13L, 13L, 13L, 13L, 14L, 
## 14L, 14L, 14L, 15L, 15L, 15L, 16L, 16L, 17L, 17L, 17L, 18L, 18L, 
## 18L, 18L, 19L, 19L, 19L, 20L, 20L, 20L, 20L, 20L, 22L, 23L, 24L, 
## 24L, 24L, 24L, 25L), dist = c(2L, 10L, 4L, 22L, 16L, 10L, 18L, 
## 26L, 34L, 17L, 28L, 14L, 20L, 24L, 28L, 26L, 34L, 34L, 46L, 26L, 
## 36L, 60L, 80L, 20L, 26L, 54L, 32L, 40L, 32L, 40L, 50L, 42L, 56L, 
## 76L, 84L, 36L, 46L, 68L, 32L, 48L, 52L, 56L, 64L, 66L, 54L, 70L, 
## 92L, 93L, 120L, 85L)), class = "data.frame", row.names = c(NA, 
## -50L))
\end{verbatim}

This code can be directly pasted into your \texttt{.rmd} file (see below), eliminating the need for separate data files. This approach is particularly useful when working with small data files.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data }\OtherTok{\textless{}{-}} \FunctionTok{structure}\NormalTok{(}\FunctionTok{list}\NormalTok{(}\AttributeTok{X =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{50}\NormalTok{, }\AttributeTok{speed =} \FunctionTok{c}\NormalTok{(4L, 4L, 7L, 7L, 8L, 9L, 10L, }
\NormalTok{10L, 10L, 11L, 11L, 12L, 12L, 12L, 12L, 13L, 13L, 13L, 13L, 14L, }
\NormalTok{14L, 14L, 14L, 15L, 15L, 15L, 16L, 16L, 17L, 17L, 17L, 18L, 18L, }
\NormalTok{18L, 18L, 19L, 19L, 19L, 20L, 20L, 20L, 20L, 20L, 22L, 23L, 24L, }
\NormalTok{24L, 24L, 24L, 25L), }\AttributeTok{dist =} \FunctionTok{c}\NormalTok{(2L, 10L, 4L, 22L, 16L, 10L, 18L, }
\NormalTok{26L, 34L, 17L, 28L, 14L, 20L, 24L, 28L, 26L, 34L, 34L, 46L, 26L, }
\NormalTok{36L, 60L, 80L, 20L, 26L, 54L, 32L, 40L, 32L, 40L, 50L, 42L, 56L, }
\NormalTok{76L, 84L, 36L, 46L, 68L, 32L, 48L, 52L, 56L, 64L, 66L, 54L, 70L, }
\NormalTok{92L, 93L, 120L, 85L)), }
\AttributeTok{class =} \StringTok{"data.frame"}\NormalTok{, }\AttributeTok{row.names =} \FunctionTok{c}\NormalTok{(}\ConstantTok{NA}\NormalTok{, }
\SpecialCharTok{{-}}\NormalTok{50L))}
\end{Highlighting}
\end{Shaded}

\hypertarget{sec:tables}{%
\section{Tables}\label{sec:tables}}

Producing good tables and referencing these tables within a R Markdown PDF has been a hassle but got much better. Examples that you may use are shown below. The way you reference tables is slightly different, e.g., for \texttt{stargazer} the label is contained in the function, for \texttt{kable} it's contained in the chunk name.

\hypertarget{stargazer-summary-and-regression-tables}{%
\subsection{stargazer(): Summary and regression tables}\label{stargazer-summary-and-regression-tables}}

Table \ref{tab-1} shows summary stats of your data.\footnote{To reference the table where you set the identifier in the stargazer function you only need to use the actual label, i.e., ´tab-1´.} Here, we use \texttt{stargazer()} (\protect\hyperlink{ref-hlavac2013stargazer}{Hlavac 2013}), which offers extreme flexibility regarding table output (see \texttt{?stargazer}).

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(stargazer)}
\FunctionTok{stargazer}\NormalTok{(cars, }
          \AttributeTok{title =} \StringTok{"Summary table with stargazer"}\NormalTok{,}
          \AttributeTok{label=}\StringTok{"tab{-}1"}\NormalTok{, }
          \AttributeTok{table.placement =} \StringTok{"H"}\NormalTok{, }
          \AttributeTok{header=}\ConstantTok{FALSE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{table}[H] \centering 
  \caption{Summary table with stargazer} 
  \label{tab-1} 
\begin{tabular}{@{\extracolsep{5pt}}lccccc} 
\\[-1.8ex]\hline 
\hline \\[-1.8ex] 
Statistic & \multicolumn{1}{c}{N} & \multicolumn{1}{c}{Mean} & \multicolumn{1}{c}{St. Dev.} & \multicolumn{1}{c}{Min} & \multicolumn{1}{c}{Max} \\ 
\hline \\[-1.8ex] 
speed & 50 & 15.400 & 5.288 & 4 & 25 \\ 
dist & 50 & 42.980 & 25.769 & 2 & 120 \\ 
\hline \\[-1.8ex] 
\end{tabular} 
\end{table}

Table \ref{tab-2} shows the output for a regression table. Make sure you name all your models and explicitly refer to model names (M1, M2 etc.) in the text.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(stargazer)}
\NormalTok{model1 }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(speed }\SpecialCharTok{\textasciitilde{}}\NormalTok{ dist, }\AttributeTok{data =}\NormalTok{ cars)}
\NormalTok{model2 }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(speed }\SpecialCharTok{\textasciitilde{}}\NormalTok{ dist, }\AttributeTok{data =}\NormalTok{ cars)}
\NormalTok{model3 }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(dist }\SpecialCharTok{\textasciitilde{}}\NormalTok{ speed, }\AttributeTok{data =}\NormalTok{ cars)}
\FunctionTok{stargazer}\NormalTok{(model1, model2, model3,}
          \AttributeTok{title =} \StringTok{"Regression table with stargazer"}\NormalTok{,}
          \AttributeTok{label=}\StringTok{"tab{-}2"}\NormalTok{, }
          \AttributeTok{table.placement =} \StringTok{"H"}\NormalTok{, }
          \AttributeTok{column.labels =} \FunctionTok{c}\NormalTok{(}\StringTok{"M1"}\NormalTok{, }\StringTok{"M2"}\NormalTok{, }\StringTok{"M3"}\NormalTok{),}
          \AttributeTok{model.numbers =} \ConstantTok{FALSE}\NormalTok{,}
          \AttributeTok{header=}\ConstantTok{FALSE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{table}[H] \centering 
  \caption{Regression table with stargazer} 
  \label{tab-2} 
\begin{tabular}{@{\extracolsep{5pt}}lccc} 
\\[-1.8ex]\hline 
\hline \\[-1.8ex] 
 & \multicolumn{3}{c}{\textit{Dependent variable:}} \\ 
\cline{2-4} 
\\[-1.8ex] & \multicolumn{2}{c}{speed} & dist \\ 
 & M1 & M2 & M3 \\ 
\hline \\[-1.8ex] 
 dist & 0.166$^{***}$ & 0.166$^{***}$ &  \\ 
  & (0.017) & (0.017) &  \\ 
  & & & \\ 
 speed &  &  & 3.932$^{***}$ \\ 
  &  &  & (0.416) \\ 
  & & & \\ 
 Constant & 8.284$^{***}$ & 8.284$^{***}$ & $-$17.579$^{**}$ \\ 
  & (0.874) & (0.874) & (6.758) \\ 
  & & & \\ 
\hline \\[-1.8ex] 
Observations & 50 & 50 & 50 \\ 
R$^{2}$ & 0.651 & 0.651 & 0.651 \\ 
Adjusted R$^{2}$ & 0.644 & 0.644 & 0.644 \\ 
Residual Std. Error (df = 48) & 3.156 & 3.156 & 15.380 \\ 
F Statistic (df = 1; 48) & 89.567$^{***}$ & 89.567$^{***}$ & 89.567$^{***}$ \\ 
\hline 
\hline \\[-1.8ex] 
\textit{Note:}  & \multicolumn{3}{r}{$^{*}$p$<$0.1; $^{**}$p$<$0.05; $^{***}$p$<$0.01} \\ 
\end{tabular} 
\end{table}

\hypertarget{kable-and-kable_styling}{%
\subsection{kable() and kable\_styling()}\label{kable-and-kable_styling}}

Another great function is \texttt{kable()} (\texttt{knitr} package) in combination with \texttt{kableExtra}. Table \ref{tab:tab-3} provides an example.\footnote{To reference the table produced by the chunk you need to add ´tab:´ to the chunk name, i.e., ´tab:tab-3´.} Again, you can modify various aspects of the table output using both the \texttt{kable()} and the \texttt{kable\_styling()} functions. See \href{https://haozhu233.github.io/kableExtra/awesome_table_in_pdf.pdf}{this overview} of all the kable stylings that are possible provided by the package author himself.

\begin{table}[H]

\caption{\label{tab:tab-3}Table with kable() and kablestyling()}
\centering
\resizebox{\linewidth}{!}{
\fontsize{10}{12}\selectfont
\begin{tabu} to \linewidth {>{\raggedright}X>{\raggedleft}X>{\raggedleft}X}
\toprule
  & speed & dist\\
\midrule
\cellcolor{gray!6}{1} & \cellcolor{gray!6}{4} & \cellcolor{gray!6}{2}\\
2 & 4 & 10\\
\cellcolor{gray!6}{3} & \cellcolor{gray!6}{7} & \cellcolor{gray!6}{4}\\
4 & 7 & 22\\
\cellcolor{gray!6}{5} & \cellcolor{gray!6}{8} & \cellcolor{gray!6}{16}\\
\addlinespace
6 & 9 & 10\\
\cellcolor{gray!6}{7} & \cellcolor{gray!6}{10} & \cellcolor{gray!6}{18}\\
8 & 10 & 26\\
\cellcolor{gray!6}{9} & \cellcolor{gray!6}{10} & \cellcolor{gray!6}{34}\\
10 & 11 & 17\\
\bottomrule
\end{tabu}}
\end{table}

\hypertarget{figures}{%
\section{Figures}\label{figures}}

\hypertarget{r-base-graphs}{%
\subsection{R base graphs}\label{r-base-graphs}}

Ideally, we also produce and insert our figures directly in the \texttt{.rmd} file. Below, in Figure \ref{fig:fig-1}, we insert a R base graph.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{plot}\NormalTok{(cars}\SpecialCharTok{$}\NormalTok{speed, cars}\SpecialCharTok{$}\NormalTok{dist)}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{paper_files/figure-latex/fig-1-1} 

}

\caption{Scatterplot of Speed and Distance}\label{fig:fig-1}
\end{figure}

\hypertarget{ggplot2-graphs}{%
\subsection{ggplot2 graphs}\label{ggplot2-graphs}}

We can also generate and insert a ggplot2 graph, as demonstrated in Figure \ref{fig:fig-2}.

\begin{figure}[H]

{\centering \includegraphics{paper_files/figure-latex/fig-2-1} 

}

\caption{Miles per gallon according to the weight}\label{fig:fig-2}
\end{figure}

\hypertarget{inline-code-results}{%
\section{Inline code \& results}\label{inline-code-results}}

Reproduction reaches new heights when you work with inline code. For instance, you can automate the display of certain coefficients within the text. An example is to include estimates, such as the coefficient of \texttt{dist} of the model we ran above. \texttt{\textasciigrave{}r\ round(coef(model1){[}2{]},\ 2)\textasciigrave{}} will insert the coefficient as follows: 0.17. Similarly, using inlince code like \texttt{\textasciigrave{}r\ 3\ +\ 7\textasciigrave{}} will insert a 10 in the text.\\
Inline code and results that depend on earlier objects in your document will automatically be updated once you change those objects. For instance, imagine a reviewer asks you to omit certain observations from your sample. You can simply do so at the beginning of your code and then proceed. However, at times, you might need to set \texttt{cache\ =\ FALSE} at the beginning so that all the code chunks are rerun.\\
Researchers often avoid referring to results in-text because it's easy to forget to change them when revising a manuscript. However, it can make an article much more informative and easier to read. For example, if you discuss a coefficient in the text, you can directly show it in the section where you discuss it. Inline code allows you to do just that. R Markdown enables you to do so in a reproducible and automated manner.

\hypertarget{good-practices}{%
\section{Good practices}\label{good-practices}}

Every researcher has his own optimized setup. Currently we would recommend the following:

\begin{itemize}
\tightlist
\item
  Keep all files of your project (that matter for producing the PDF) in one folder without subfolders. Once you have done so, you can conveniently package the files by zipping the folder. This compressed file can then be directly uploaded to platforms such as the \href{https://dataverse.harvard.edu/}{Harvard dataverse}. In addition, it is beneficial to create a .Rproj file for your project.
\item
  Make sure that filenames are logical and meaningful.

  \begin{itemize}
  \tightlist
  \item
    Main file with text/code: ``paper.rmd'', ``report.rmd''
  \item
    Data files: ``data\_xxxxxx.*''
  \item
    Image files: ``fig\_xxxxxx.*''
  \item
    Tables files: ``table\_xxxx.*''
  \item
    etc.
  \item
    Ideally, your filenames will correspond to the names in the paper. For instance, Figure 1 in the paper may have a corresponding file called \texttt{fig\_1\_xxxxx.pdf}.
  \end{itemize}
\item
  Use the document outline in R studio (Ctrl + Shift + O) when you work with R Markdown.
\item
  Name code chunks according to what they do or produce:

  \begin{itemize}
  \tightlist
  \item
    ``\texttt{fig-...}'' for chunks producing figures
  \item
    ``\texttt{table-...}'' for chunks producing tables
  \item
    ``\texttt{model-...}'' for chunks producing model estimates
  \item
    ``\texttt{import-...}'' for chunks importing data
  \item
    ``\texttt{recoding-...}'' for chunks in which data is recoded
  \end{itemize}
\item
  Ideally give code chunks the labels of the figures/tables in the final publication, e.g., ``\texttt{fig-1}'' is the name of the chunk that produces Figure 1 in the final paper.
\item
  Use informative variable names:

  \begin{itemize}
  \tightlist
  \item
    Q: What do you think does the variable \emph{trstep} measure? It actually measures trust in the European parliament.

    \begin{itemize}
    \tightlist
    \item
      How could we call this variable instead? Yes, \texttt{trust.european.parliament} which is longer but will probably be understood by another researcher.
    \end{itemize}
  \item
    If your setup is reproducible, it's likely that you'll reuse the variable names you generate as column names in the tables you produce. Therefore, there's an incentive to use descriptive and meaningful variable names.
  \end{itemize}
\item
  Use unique identifiers in the final document:

  \begin{itemize}
  \tightlist
  \item
    e.g., name the models you estimate ``M1'', ``M2'' etc.
  \item
    These unique names should also appear in the published paper.
  \item
    Think of someone who wants to produce Figure 1/Model 1 in your paper but doesn't find it in your code\ldots{}
  \end{itemize}
\end{itemize}

\hypertarget{additional-tricks-for-publishing}{%
\section{Additional tricks for publishing}\label{additional-tricks-for-publishing}}

\begin{itemize}
\tightlist
\item
  Make your script anonymous

  \begin{itemize}
  \tightlist
  \item
    Simply put a \texttt{\textless{}!-\/-\ ...\ -\/-\textgreater{}} around any identifying information, e.g., author names, title footnote etc.
  \end{itemize}
\item
  Counting words

  \begin{itemize}
  \tightlist
  \item
    Knit your .Rmd to a Word (.docx) file, open it in Word, and delete any parts that should not be included in the word count. You can find the word count displayed in the lower right corner of the document.
  \item
    Use a online service to count your words (search for ``pdf word count'')
  \end{itemize}
\item
  Appendix: You can change the numbering format for the appendix in the .Rmd file

  \begin{itemize}
  \tightlist
  \item
    What is still not possible in this document is to automatically have separate reference sections for paper and appendix.
  \end{itemize}
\item
  Journals may require you to use their tex style: Sometimes you can simply use their template in your rmarkdown file. See \href{https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/LDUMNY}{here} for a PLOS one example.
\end{itemize}

\hypertarget{citation-styles}{%
\section{Citation styles}\label{citation-styles}}

If your study needs to follow a particular citation style, you can set the corresponding style in the header of your \texttt{.rmd} document. To do so you have to download the corresponding \texttt{.csl} file.

In the present document we use the style of the American Sociological Association and set it in the preamble with \texttt{csl:\ american-sociological-association.csl}. However, you also need to download the respective \texttt{.csl} file from the following Github page: \url{https://github.com/citation-style-language/styles} and copy it into your working directory for it to work.

The Github directory contains a wide variety of citation style files depending on what discipline you work in.

\hypertarget{references}{%
\section{References}\label{references}}

\linespread{1}

\hypertarget{refs}{}
\begin{CSLReferences}{1}{0}
\leavevmode\vadjust pre{\hypertarget{ref-markdown2017}{}}%
Allaire, JJ, Jeffrey Horner, Vicent Marti, and Natacha Porte. 2017. \emph{\href{https://CRAN.R-project.org/package=markdown}{Markdown: 'Markdown' Rendering for r}}.

\leavevmode\vadjust pre{\hypertarget{ref-hlavac2013stargazer}{}}%
Hlavac, Marek. 2013. {``Stargazer: LaTeX Code and ASCII Text for Well-Formatted Regression and Summary Statistics Tables.''} \emph{URL: Http://CRAN. R-Project. Org/Package= Stargazer}.

\leavevmode\vadjust pre{\hypertarget{ref-Kirsop2005-ro}{}}%
Kirsop, Barbara and Leslie Chan. 2005. {``Transforming Access to Research Literature for Developing Countries.''} \emph{Serials Review} 31(4):246--55.

\leavevmode\vadjust pre{\hypertarget{ref-R2017}{}}%
R Core Team. 2017. \emph{\href{https://www.R-project.org/}{R: A Language and Environment for Statistical Computing}}. Vienna, Austria: R Foundation for Statistical Computing.

\leavevmode\vadjust pre{\hypertarget{ref-Rstudio2015}{}}%
RStudio Team. 2015. \emph{\href{http://www.rstudio.com/}{RStudio: Integrated Development Environment for r}}. Boston, MA: RStudio, Inc.

\leavevmode\vadjust pre{\hypertarget{ref-knitr3}{}}%
Xie, Yihui. 2014. {``\href{http://www.crcpress.com/product/isbn/9781466561595}{Knitr: A Comprehensive Tool for Reproducible Research in {R}}.''} in \emph{Implementing reproducible computational research}, edited by V. Stodden, F. Leisch, and R. D. Peng. Chapman; Hall/CRC.

\leavevmode\vadjust pre{\hypertarget{ref-knitr2}{}}%
Xie, Yihui. 2015. \emph{\href{https://yihui.name/knitr/}{Dynamic Documents with {R} and Knitr}}. 2nd ed. Boca Raton, Florida: Chapman; Hall/CRC.

\leavevmode\vadjust pre{\hypertarget{ref-bookdown2}{}}%
Xie, Yihui. 2016. \emph{\href{https://github.com/rstudio/bookdown}{Bookdown: Authoring Books and Technical Documents with {R} Markdown}}. Boca Raton, Florida: Chapman; Hall/CRC.

\leavevmode\vadjust pre{\hypertarget{ref-bookdown1}{}}%
Xie, Yihui. 2017. \emph{\href{https://github.com/rstudio/bookdown}{Bookdown: Authoring Books and Technical Documents with r Markdown}}.

\leavevmode\vadjust pre{\hypertarget{ref-knitr1}{}}%
Xie, Yihui. 2018a. \emph{\href{https://yihui.name/knitr/}{Knitr: A General-Purpose Package for Dynamic Report Generation in r}}.

\leavevmode\vadjust pre{\hypertarget{ref-tinytex}{}}%
Xie, Yihui. 2018b. \emph{\href{https://CRAN.R-project.org/package=tinytex}{Tinytex: Helper Functions to Install and Maintain 'TeX Live', and Compile 'LaTeX' Documents}}.

\leavevmode\vadjust pre{\hypertarget{ref-kableextra}{}}%
Zhu, Hao. 2017. \emph{\href{https://CRAN.R-project.org/package=kableExtra}{kableExtra: Construct Complex Table with 'Kable' and Pipe Syntax}}.

\end{CSLReferences}

\clearpage

\appendix
\addtocontents{toc}{\protect\setcounter{tocdepth}{2}}

\renewcommand{\thesection}{A}

\setcounter{page}{1}

\setcounter{table}{0}
\renewcommand{\thetable}{A\arabic{table}}
\renewcommand{\figurename}{Table}

\setcounter{figure}{0}
\renewcommand\thefigure{A\arabic{figure}}
\renewcommand{\figurename}{Figure}

\clearpage
\pagenumbering{gobble}

\vspace*{7cm}

\begin{center}
\begin{huge}
Online Appendix
\end{huge}
\end{center}
\vspace{3cm}

\clearpage
\pagenumbering{arabic}

\hypertarget{online-appendix}{%
\section{Online appendix}\label{online-appendix}}

\hypertarget{sec:rsessioninfo}{%
\subsection{Attach R session info in appendix}\label{sec:rsessioninfo}}

Since R and R packages are constantly evolving you might want to add the R session info that contains information on the R version as well as the packages that are loaded.

\begin{verbatim}
## R version 4.2.2 (2022-10-31)
## Platform: aarch64-apple-darwin20 (64-bit)
## Running under: macOS Ventura 13.2.1
## 
## Matrix products: default
## BLAS:   /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/lib/libRblas.0.dylib
## LAPACK: /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/lib/libRlapack.dylib
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] ggplot2_3.4.2         kableExtra_1.3.4.9000 knitr_1.42           
## [4] stargazer_5.2.3      
## 
## loaded via a namespace (and not attached):
##  [1] compiler_4.2.2    pillar_1.9.0      tools_4.2.2       digest_0.6.31    
##  [5] evaluate_0.20     lifecycle_1.0.3   tibble_3.2.1      gtable_0.3.3     
##  [9] viridisLite_0.4.1 pkgconfig_2.0.3   rlang_1.1.0       cli_3.6.1        
## [13] rstudioapi_0.14   yaml_2.3.7        xfun_0.38         fastmap_1.1.1    
## [17] withr_2.5.0       dplyr_1.1.1       httr_1.4.5        stringr_1.5.0    
## [21] xml2_1.3.3        generics_0.1.3    vctrs_0.6.1       systemfonts_1.0.4
## [25] tidyselect_1.2.0  webshot_0.5.4     grid_4.2.2        svglite_2.1.1    
## [29] glue_1.6.2        R6_2.5.1          fansi_1.0.4       rmarkdown_2.21   
## [33] bookdown_0.33     farver_2.1.1      magrittr_2.0.3    scales_1.2.1     
## [37] htmltools_0.5.5   rvest_1.0.3       colorspace_2.1-0  labeling_0.4.2   
## [41] utf8_1.2.3        stringi_1.7.12    munsell_0.5.0
\end{verbatim}

\hypertarget{all-the-code-in-the-paper}{%
\subsection{All the code in the paper}\label{all-the-code-in-the-paper}}

To simply attach all the code you used in the PDF file in the appendix see the R chunk in the underlying \texttt{.rmd} file:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{knitr}\SpecialCharTok{::}\NormalTok{opts\_chunk}\SpecialCharTok{$}\FunctionTok{set}\NormalTok{(}\AttributeTok{cache =} \ConstantTok{FALSE}\NormalTok{)}
\CommentTok{\# Use cache = TRUE if you want to speed up compilation}
\CommentTok{\# A function to allow for showing some of the inline code}
\NormalTok{rinline }\OtherTok{\textless{}{-}} \ControlFlowTok{function}\NormalTok{(code)\{}
\NormalTok{  html }\OtherTok{\textless{}{-}} \StringTok{\textquotesingle{}\textless{}code  class="r"\textgreater{}\textasciigrave{}\textasciigrave{}\textasciigrave{} \textasciigrave{}r CODE\textasciigrave{} \textasciigrave{}\textasciigrave{}\textasciigrave{}\textless{}/code\textgreater{}\textquotesingle{}}
  \FunctionTok{sub}\NormalTok{(}\StringTok{"CODE"}\NormalTok{, code, html)}
\NormalTok{\}}
\FunctionTok{install.packages}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\StringTok{\textquotesingle{}tinytex\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rmarkdown\textquotesingle{}}\NormalTok{))}
\NormalTok{tinytex}\SpecialCharTok{::}\FunctionTok{install\_tinytex}\NormalTok{()}
\FunctionTok{install.packages}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\StringTok{"rmarkdown"}\NormalTok{, }\StringTok{"knitr"}\NormalTok{, }\StringTok{"kableExtra"}\NormalTok{,}
                   \StringTok{"stargazer"}\NormalTok{, }\StringTok{"knitr"}\NormalTok{,}
                   \StringTok{"bookdown"}\NormalTok{))}
\FunctionTok{cat}\NormalTok{(}\FunctionTok{paste}\NormalTok{(}\StringTok{"\#"}\NormalTok{, }\FunctionTok{capture.output}\NormalTok{(}\FunctionTok{sessionInfo}\NormalTok{()), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{, }\AttributeTok{collapse =}\StringTok{""}\NormalTok{)) }
  \CommentTok{\# or use message() instead of cat()}
\NormalTok{data }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"data.csv"}\NormalTok{)}
\FunctionTok{head}\NormalTok{(data)}
\FunctionTok{dput}\NormalTok{(data)}
\NormalTok{data }\OtherTok{\textless{}{-}} \FunctionTok{structure}\NormalTok{(}\FunctionTok{list}\NormalTok{(}\AttributeTok{X =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{50}\NormalTok{, }\AttributeTok{speed =} \FunctionTok{c}\NormalTok{(4L, 4L, 7L, 7L, 8L, 9L, 10L, }
\NormalTok{10L, 10L, 11L, 11L, 12L, 12L, 12L, 12L, 13L, 13L, 13L, 13L, 14L, }
\NormalTok{14L, 14L, 14L, 15L, 15L, 15L, 16L, 16L, 17L, 17L, 17L, 18L, 18L, }
\NormalTok{18L, 18L, 19L, 19L, 19L, 20L, 20L, 20L, 20L, 20L, 22L, 23L, 24L, }
\NormalTok{24L, 24L, 24L, 25L), }\AttributeTok{dist =} \FunctionTok{c}\NormalTok{(2L, 10L, 4L, 22L, 16L, 10L, 18L, }
\NormalTok{26L, 34L, 17L, 28L, 14L, 20L, 24L, 28L, 26L, 34L, 34L, 46L, 26L, }
\NormalTok{36L, 60L, 80L, 20L, 26L, 54L, 32L, 40L, 32L, 40L, 50L, 42L, 56L, }
\NormalTok{76L, 84L, 36L, 46L, 68L, 32L, 48L, 52L, 56L, 64L, 66L, 54L, 70L, }
\NormalTok{92L, 93L, 120L, 85L)), }
\AttributeTok{class =} \StringTok{"data.frame"}\NormalTok{, }\AttributeTok{row.names =} \FunctionTok{c}\NormalTok{(}\ConstantTok{NA}\NormalTok{, }
\SpecialCharTok{{-}}\NormalTok{50L))}
\FunctionTok{library}\NormalTok{(stargazer)}
\FunctionTok{stargazer}\NormalTok{(cars, }
          \AttributeTok{title =} \StringTok{"Summary table with stargazer"}\NormalTok{,}
          \AttributeTok{label=}\StringTok{"tab{-}1"}\NormalTok{, }
          \AttributeTok{table.placement =} \StringTok{"H"}\NormalTok{, }
          \AttributeTok{header=}\ConstantTok{FALSE}\NormalTok{)}
\FunctionTok{library}\NormalTok{(stargazer)}
\NormalTok{model1 }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(speed }\SpecialCharTok{\textasciitilde{}}\NormalTok{ dist, }\AttributeTok{data =}\NormalTok{ cars)}
\NormalTok{model2 }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(speed }\SpecialCharTok{\textasciitilde{}}\NormalTok{ dist, }\AttributeTok{data =}\NormalTok{ cars)}
\NormalTok{model3 }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(dist }\SpecialCharTok{\textasciitilde{}}\NormalTok{ speed, }\AttributeTok{data =}\NormalTok{ cars)}
\FunctionTok{stargazer}\NormalTok{(model1, model2, model3,}
          \AttributeTok{title =} \StringTok{"Regression table with stargazer"}\NormalTok{,}
          \AttributeTok{label=}\StringTok{"tab{-}2"}\NormalTok{, }
          \AttributeTok{table.placement =} \StringTok{"H"}\NormalTok{, }
          \AttributeTok{column.labels =} \FunctionTok{c}\NormalTok{(}\StringTok{"M1"}\NormalTok{, }\StringTok{"M2"}\NormalTok{, }\StringTok{"M3"}\NormalTok{),}
          \AttributeTok{model.numbers =} \ConstantTok{FALSE}\NormalTok{,}
          \AttributeTok{header=}\ConstantTok{FALSE}\NormalTok{)}
\FunctionTok{library}\NormalTok{(knitr)}
\FunctionTok{library}\NormalTok{(kableExtra)}
\FunctionTok{kable}\NormalTok{(cars[}\DecValTok{1}\SpecialCharTok{:}\DecValTok{10}\NormalTok{,], }\AttributeTok{row.names =} \ConstantTok{TRUE}\NormalTok{, }
      \AttributeTok{caption =} \StringTok{\textquotesingle{}Table with kable() and kablestyling()\textquotesingle{}}\NormalTok{, }
      \AttributeTok{format =} \StringTok{"latex"}\NormalTok{, }\AttributeTok{booktabs =}\NormalTok{ T) }\SpecialCharTok{\%\textgreater{}\%}
        \FunctionTok{kable\_styling}\NormalTok{(}\AttributeTok{full\_width =}\NormalTok{ T, }
                      \AttributeTok{latex\_options =} \FunctionTok{c}\NormalTok{(}\StringTok{"striped"}\NormalTok{, }
                                        \StringTok{"scale\_down"}\NormalTok{,}
                                        \StringTok{"HOLD\_position"}\NormalTok{),}
                      \AttributeTok{font\_size =} \DecValTok{10}\NormalTok{)}
\FunctionTok{plot}\NormalTok{(cars}\SpecialCharTok{$}\NormalTok{speed, cars}\SpecialCharTok{$}\NormalTok{dist)}
\NormalTok{mtcars}\SpecialCharTok{$}\NormalTok{cyl }\OtherTok{\textless{}{-}} \FunctionTok{as.factor}\NormalTok{(mtcars}\SpecialCharTok{$}\NormalTok{cyl) }\CommentTok{\# Convert cyl to factor}
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{ggplot}\NormalTok{(mtcars, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{wt, }\AttributeTok{y=}\NormalTok{mpg, }\AttributeTok{shape=}\NormalTok{cyl)) }\SpecialCharTok{+} \FunctionTok{geom\_point}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{x=}\StringTok{"Weight (lb/1000)"}\NormalTok{, }\AttributeTok{y =} \StringTok{"Miles/(US) gallon"}\NormalTok{, }
       \AttributeTok{shape=}\StringTok{"Number of }\SpecialCharTok{\textbackslash{}n}\StringTok{ Cylinders"}\NormalTok{) }\SpecialCharTok{+} \FunctionTok{theme\_classic}\NormalTok{()}
\FunctionTok{print}\NormalTok{(}\FunctionTok{sessionInfo}\NormalTok{(), }\AttributeTok{local =} \ConstantTok{FALSE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}


\end{document}
